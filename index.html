<!--
    Client Value Calculator
    By: Ting-Wei Lin
    2019
-->

<!DOCTYPE html>
<html>
<title>Hypewell Client Value Calculator</title>
<body>

    <form name="cvcform">
        Monthly Ads Budget($): <input type="text" name="budget" size="10"><br>
        Cost per Acquisition($): <input type="text" name="cpa" size="10"><br>
        Average Ticket Price($): <input type="text" name="ticket" size="10"><br>
        Average Conversion Rate(%): <input type="text" name="conversion" size="10"><br>


        <input type="button" value="Calculate Score" onClick="calculateScore()"><br><br><br>

        <!--Result-->
        Monthly Aquired Leads based on ads budget: <span id="lead"></span><br>
        # of Customers based on conversion: <span id = "customers"></span><br>
        Monthly Revenue: <span id = "revenue"></span><br><br>
        Profit generated with ads budget: <span id ="profit"></span><br>

        Final ROI: <span id = "score"></span><br>
        This Means: <span id = "meaning"></span><br>
        <input type="reset" value="Reset" />
    </form>

    <script language="JavaScript">
        
function calculateScore() {
    var budget = document.cvcform.budget.value
    var cpa = document.cvcform.cpa.value
    var atp = document.cvcform.ticket.value
    var conversion = document.cvcform.conversion.value

    //Calculate the monthly aquired leads
    var leads = Math.floor(budget/cpa)
    //Calculate the monthly aquired customers
    var customers = Math.floor(leads*(conversion/100))
    //Calculate Revenue
    var revenue = customers * atp
    //Calculate Profit
    var profit = revenue - budget
    //Calculate final score
    var score = parseInt((revenue / budget))
    //show the final stats
    document.getElementById("lead").innerHTML = leads;
    document.getElementById("customers").innerHTML = customers;
    document.getElementById("revenue").innerHTML = "$" + revenue;
    document.getElementById("score").innerHTML = score + " X";
    document.getElementById("profit").innerHTML = profit;
    //show value based on ratio
    if(score < 1){
        document.getElementById("meaning").innerHTML= "Bad"
    }
    else if(score > 1 && score < 2){
        document.getElementById("meaning").innerHTML = "Not Bad"
    }
    else if(score > 2 && score < 5){
        document.getElementById("meaning").innerHTML = "Pretty Good"
    }
    else if(score > 5){
        document.getElementById("meaning").innerHTML = "Extraordinary"
    }
    else{
        alert("Please Fill in everything correctly")
    }
}
//-->
</script>
</body>
</html>
